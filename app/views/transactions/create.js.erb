$('#new-transaction-modal').modal('hide').remove();
if ($(".nested.transactions.table").length > 0) {
  $('.nested.transactions.table tbody').append("<tr data-id=<%= @transaction.id %>><%= escape_javascript render(:partial => 'application/transactions_table_item', :locals => {:transaction => @transaction}) %><td><%= escape_javascript link_to(content_tag(:i, '', :class => 'icon-remove'), '#', :class => 'remove-nested-transaction') %></td></tr>")
} else if($(".transactions.table").length > 0) {
  $('.transactions.table tbody').append("<tr><%= escape_javascript render(:partial => 'application/transactions_table_item', :locals => {:transaction => @transaction}) %><td><%= escape_javascript link_to(content_tag(:i, '', :class => 'icon-edit'), business_transaction_path(@transaction.business, @transaction)) %> <%= escape_javascript link_to(content_tag(:i, '', :class => 'icon-trash'), business_transaction_path(@transaction.business, @transaction), :confirm => 'Are you sure you want to delete this item?', :method => 'delete') %></td></tr>")
} else {
  window.location = '<%= business_transactions_path(@business) %>'
}